!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("webgl-renderer",[],t):"object"==typeof exports?exports["webgl-renderer"]=t():e["webgl-renderer"]=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Constants={floatsPerPoint:3,floatsPerColor:3,floatsPerVertex:6,verticiesPerTriangle:3,floatsPerTriangle:18,vertexBufferFloatLimit:64998,defaultAlpha:1,lineGlRenderMode:"lineStrip"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===e&&(e=new Float32Array(0)),void 0===t&&(t=0),this.arr=e,this.size=e.length,this._sizeLimit=t}return e.prototype.addNumber=function(e){var t=this.size+1;if(this._sizeLimit&&t>this._sizeLimit)return!1;var r=this._sizeLimit?Math.min(2*t,this._sizeLimit):2*t;if(t>=this.arr.length){var n=this.arr;this.arr=new Float32Array(r),this.arr.set(n)}return this.arr[this.size]=e,this.size=t,!0},e.prototype.addArray=function(e){var t=this.size+e.length;this._sizeLimit&&this._sizeLimit;if(this._sizeLimit&&t>this._sizeLimit)return!1;var r=this._sizeLimit?Math.min(2*t,this._sizeLimit):2*t;if(t>=this.arr.length){var n=this.arr;this.arr=new Float32Array(r),this.arr.set(n)}return this.arr.set(e,this.size),this.size=t,!0},e.prototype.getTrimmedArray=function(){if(this.arr.length>this.size){for(var e=new Float32Array(this.size),t=0;t<e.length;t++)e[t]=this.arr[t];return e}return this.arr},e}();t.Float32Vector=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(24),o=r(0),i=r(5),s=function(){function e(e,t,r){void 0===e&&(e=i.Settings.defaultColor),void 0===t&&(t=null),void 0===r&&(r=null),this._rgbColor=e,t&&r&&(this.boundingRect=new n.BoundingRectangle(t,r))}return Object.defineProperty(e.prototype,"rgbColor",{get:function(){return this._rgbColor},set:function(e){this._rgbColor=e,this.computeVerticies()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticies",{get:function(){return this._verticies.arr},enumerable:!0,configurable:!0}),e.prototype.addXYZAndColorToFloat32Array=function(e,t,r,n,o){e[t]=r,e[t+1]=n,e[t+2]=o,e[t+3]=this._rgbColor.red,e[t+4]=this._rgbColor.green,e[t+5]=this._rgbColor.blue},e.prototype.addTriangleToFloat32Array=function(e,t,r,n,i){this.addXYZAndColorToFloat32Array(e,t,r.x,r.y,r.z),this.addXYZAndColorToFloat32Array(e,t+o.Constants.floatsPerVertex,n.x,n.y,n.z),this.addXYZAndColorToFloat32Array(e,t+2*o.Constants.floatsPerVertex,i.x,i.y,i.z)},e}();t.Shape2d=s},function(e,t,r){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.elements=new Float32Array(3),this.elements[0]=e,this.elements[1]=t,this.elements[2]=r}return e.prototype.normalize=function(){var e=this.elements,t=e[0],r=e[1],n=e[2],o=Math.sqrt(t*t+r*r+n*n);return o?1===o?this:(o=1/o,e[0]=t*o,e[1]=r*o,e[2]=n*o,this):(e[0]=0,e[1]=0,e[2]=0,this)},Object.defineProperty(e.prototype,"x",{get:function(){return this.elements[0]},set:function(e){this.elements[0]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.elements[1]},set:function(e){this.elements[1]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.elements[2]},set:function(e){this.elements[2]=e},enumerable:!0,configurable:!0}),e}();t.Vec3=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.elements=new Float32Array(4),this.elements[0]=e,this.elements[1]=t,this.elements[2]=r,this.elements[4]=r}return Object.defineProperty(e.prototype,"x",{get:function(){return this.elements[0]},set:function(e){this.elements[0]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.elements[1]},set:function(e){this.elements[1]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"z",{get:function(){return this.elements[2]},set:function(e){this.elements[2]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.elements[3]},set:function(e){this.elements[3]=e},enumerable:!0,configurable:!0}),e}();t.Vec4=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.Mat4=n.Mat4;var o=r(1);t.Vec4=o.Vec4;var i=r(0);t.Vec3=i.Vec3},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),o=r(1),i=function(){function e(e){if(void 0===e&&(e=null),e){this.elements=new Float32Array(16);for(var t=0;t<16;++t)this.elements[t]=e.elements[t]}else this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return e.prototype.setIdentity=function(){var e=this.elements;return e[0]=1,e[4]=0,e[8]=0,e[12]=0,e[1]=0,e[5]=1,e[9]=0,e[13]=0,e[2]=0,e[6]=0,e[10]=1,e[14]=0,e[3]=0,e[7]=0,e[11]=0,e[15]=1,this},e.prototype.set=function(e){var t,r,n;if(r=e.elements,n=this.elements,r!==n){for(t=0;t<16;++t)n[t]=r[t];return this}},e.prototype.multiply=function(e){return this.concat(e)},e.prototype.multiplyVector3=function(e){var t=this.elements,r=e.elements,o=new n.Vec3,i=o.elements;return i[0]=r[0]*t[0]+r[1]*t[4]+r[2]*t[8]+t[11],i[1]=r[0]*t[1]+r[1]*t[5]+r[2]*t[9]+t[12],i[2]=r[0]*t[2]+r[1]*t[6]+r[2]*t[10]+t[13],o},e.prototype.multiplyVector4=function(e){var t=this.elements,r=e.elements,n=new o.Vec4,i=n.elements;return i[0]=r[0]*t[0]+r[1]*t[4]+r[2]*t[8]+r[3]*t[12],i[1]=r[0]*t[1]+r[1]*t[5]+r[2]*t[9]+r[3]*t[13],i[2]=r[0]*t[2]+r[1]*t[6]+r[2]*t[10]+r[3]*t[14],i[3]=r[0]*t[3]+r[1]*t[7]+r[2]*t[11]+r[3]*t[15],n},e.prototype.transpose=function(){var e,t;return e=this.elements,t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},e.prototype.setInverseOf=function(e){var t,r,n,o,i;if(r=e.elements,n=this.elements,o=new Float32Array(16),o[0]=r[5]*r[10]*r[15]-r[5]*r[11]*r[14]-r[9]*r[6]*r[15]+r[9]*r[7]*r[14]+r[13]*r[6]*r[11]-r[13]*r[7]*r[10],o[4]=-r[4]*r[10]*r[15]+r[4]*r[11]*r[14]+r[8]*r[6]*r[15]-r[8]*r[7]*r[14]-r[12]*r[6]*r[11]+r[12]*r[7]*r[10],o[8]=r[4]*r[9]*r[15]-r[4]*r[11]*r[13]-r[8]*r[5]*r[15]+r[8]*r[7]*r[13]+r[12]*r[5]*r[11]-r[12]*r[7]*r[9],o[12]=-r[4]*r[9]*r[14]+r[4]*r[10]*r[13]+r[8]*r[5]*r[14]-r[8]*r[6]*r[13]-r[12]*r[5]*r[10]+r[12]*r[6]*r[9],o[1]=-r[1]*r[10]*r[15]+r[1]*r[11]*r[14]+r[9]*r[2]*r[15]-r[9]*r[3]*r[14]-r[13]*r[2]*r[11]+r[13]*r[3]*r[10],o[5]=r[0]*r[10]*r[15]-r[0]*r[11]*r[14]-r[8]*r[2]*r[15]+r[8]*r[3]*r[14]+r[12]*r[2]*r[11]-r[12]*r[3]*r[10],o[9]=-r[0]*r[9]*r[15]+r[0]*r[11]*r[13]+r[8]*r[1]*r[15]-r[8]*r[3]*r[13]-r[12]*r[1]*r[11]+r[12]*r[3]*r[9],o[13]=r[0]*r[9]*r[14]-r[0]*r[10]*r[13]-r[8]*r[1]*r[14]+r[8]*r[2]*r[13]+r[12]*r[1]*r[10]-r[12]*r[2]*r[9],o[2]=r[1]*r[6]*r[15]-r[1]*r[7]*r[14]-r[5]*r[2]*r[15]+r[5]*r[3]*r[14]+r[13]*r[2]*r[7]-r[13]*r[3]*r[6],o[6]=-r[0]*r[6]*r[15]+r[0]*r[7]*r[14]+r[4]*r[2]*r[15]-r[4]*r[3]*r[14]-r[12]*r[2]*r[7]+r[12]*r[3]*r[6],o[10]=r[0]*r[5]*r[15]-r[0]*r[7]*r[13]-r[4]*r[1]*r[15]+r[4]*r[3]*r[13]+r[12]*r[1]*r[7]-r[12]*r[3]*r[5],o[14]=-r[0]*r[5]*r[14]+r[0]*r[6]*r[13]+r[4]*r[1]*r[14]-r[4]*r[2]*r[13]-r[12]*r[1]*r[6]+r[12]*r[2]*r[5],o[3]=-r[1]*r[6]*r[11]+r[1]*r[7]*r[10]+r[5]*r[2]*r[11]-r[5]*r[3]*r[10]-r[9]*r[2]*r[7]+r[9]*r[3]*r[6],o[7]=r[0]*r[6]*r[11]-r[0]*r[7]*r[10]-r[4]*r[2]*r[11]+r[4]*r[3]*r[10]+r[8]*r[2]*r[7]-r[8]*r[3]*r[6],o[11]=-r[0]*r[5]*r[11]+r[0]*r[7]*r[9]+r[4]*r[1]*r[11]-r[4]*r[3]*r[9]-r[8]*r[1]*r[7]+r[8]*r[3]*r[5],o[15]=r[0]*r[5]*r[10]-r[0]*r[6]*r[9]-r[4]*r[1]*r[10]+r[4]*r[2]*r[9]+r[8]*r[1]*r[6]-r[8]*r[2]*r[5],0==(i=r[0]*o[0]+r[1]*o[4]+r[2]*o[8]+r[3]*o[12]))return this;for(i=1/i,t=0;t<16;t++)n[t]=o[t]*i;return this},e.prototype.invert=function(){return this.setInverseOf(this)},e.prototype.setOrtho=function(e,t,r,n,o,i){var s,a,u,c;if(e===t||r===n||o===i)throw"null frustum";return a=1/(t-e),u=1/(n-r),c=1/(i-o),s=this.elements,s[0]=2*a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*u,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=-2*c,s[11]=0,s[12]=-(t+e)*a,s[13]=-(n+r)*u,s[14]=-(i+o)*c,s[15]=1,this},e.prototype.ortho=function(t,r,n,o,i,s){return this.concat((new e).setOrtho(t,r,n,o,i,s))},e.prototype.setFrustum=function(e,t,r,n,o,i){var s,a,u,c;if(e===t||n===r||o===i)throw"null frustum";if(o<=0)throw"near <= 0";if(i<=0)throw"far <= 0";return a=1/(t-e),u=1/(n-r),c=1/(i-o),s=this.elements,s[0]=2*o*a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*o*u,s[6]=0,s[7]=0,s[8]=(t+e)*a,s[9]=(n+r)*u,s[10]=-(i+o)*c,s[11]=-1,s[12]=0,s[13]=0,s[14]=-2*o*i*c,s[15]=0,this},e.prototype.frustum=function(t,r,n,o,i,s){return this.concat((new e).setFrustum(t,r,n,o,i,s))},e.prototype.setPerspective=function(e,t,r,n){var o,i,s,a;if(r===n||0===t)throw"null frustum";if(r<=0)throw"near <= 0";if(n<=0)throw"far <= 0";if(e=Math.PI*e/180/2,0===(s=Math.sin(e)))throw"null frustum";return i=1/(n-r),a=Math.cos(e)/s,o=this.elements,o[0]=a/t,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=a,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-(n+r)*i,o[11]=-1,o[12]=0,o[13]=0,o[14]=-2*r*n*i,o[15]=0,this},e.prototype.perspective=function(t,r,n,o){return this.concat((new e).setPerspective(t,r,n,o))},e.prototype.setScale=function(e,t,r){var n=this.elements;return n[0]=e,n[4]=0,n[8]=0,n[12]=0,n[1]=0,n[5]=t,n[9]=0,n[13]=0,n[2]=0,n[6]=0,n[10]=r,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},e.prototype.scale=function(e,t,r){var n=this.elements;return n[0]*=e,n[4]*=t,n[8]*=r,n[1]*=e,n[5]*=t,n[9]*=r,n[2]*=e,n[6]*=t,n[10]*=r,n[3]*=e,n[7]*=t,n[11]*=r,this},e.prototype.setTranslate=function(e,t,r){var n=this.elements;return n[0]=1,n[4]=0,n[8]=0,n[12]=e,n[1]=0,n[5]=1,n[9]=0,n[13]=t,n[2]=0,n[6]=0,n[10]=1,n[14]=r,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},e.prototype.translate=function(e,t,r){var n=this.elements;return n[12]+=n[0]*e+n[4]*t+n[8]*r,n[13]+=n[1]*e+n[5]*t+n[9]*r,n[14]+=n[2]*e+n[6]*t+n[10]*r,n[15]+=n[3]*e+n[7]*t+n[11]*r,this},e.prototype.setRotate=function(e,t,r,n){var o,i,s,a,u,c,l,f,h,d,p,g;return e=Math.PI*e/180,o=this.elements,i=Math.sin(e),s=Math.cos(e),0!==t&&0===r&&0===n?(t<0&&(i=-i),o[0]=1,o[4]=0,o[8]=0,o[12]=0,o[1]=0,o[5]=s,o[9]=-i,o[13]=0,o[2]=0,o[6]=i,o[10]=s,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1):0===t&&0!==r&&0===n?(r<0&&(i=-i),o[0]=s,o[4]=0,o[8]=i,o[12]=0,o[1]=0,o[5]=1,o[9]=0,o[13]=0,o[2]=-i,o[6]=0,o[10]=s,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1):0===t&&0===r&&0!==n?(n<0&&(i=-i),o[0]=s,o[4]=-i,o[8]=0,o[12]=0,o[1]=i,o[5]=s,o[9]=0,o[13]=0,o[2]=0,o[6]=0,o[10]=1,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1):(a=Math.sqrt(t*t+r*r+n*n),1!==a&&(u=1/a,t*=u,r*=u,n*=u),c=1-s,l=t*r,f=r*n,h=n*t,d=t*i,p=r*i,g=n*i,o[0]=t*t*c+s,o[1]=l*c+g,o[2]=h*c-p,o[3]=0,o[4]=l*c-g,o[5]=r*r*c+s,o[6]=f*c+d,o[7]=0,o[8]=h*c+p,o[9]=f*c-d,o[10]=n*n*c+s,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1),this},e.prototype.rotate=function(t,r,n,o){return this.concat((new e).setRotate(t,r,n,o))},e.prototype.setLookAt=function(e,t,r,n,o,i,s,a,u){var c,l,f,h,d,p,g,b,_,v,m,y;return l=n-e,f=o-t,h=i-r,d=1/Math.sqrt(l*l+f*f+h*h),l*=d,f*=d,h*=d,p=f*u-h*a,g=h*s-l*u,b=l*a-f*s,_=1/Math.sqrt(p*p+g*g+b*b),p*=_,g*=_,b*=_,v=g*h-b*f,m=b*l-p*h,y=p*f-g*l,c=this.elements,c[0]=p,c[1]=v,c[2]=-l,c[3]=0,c[4]=g,c[5]=m,c[6]=-f,c[7]=0,c[8]=b,c[9]=y,c[10]=-h,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this.translate(-e,-t,-r)},e.prototype.lookAt=function(t,r,n,o,i,s,a,u,c){return this.concat((new e).setLookAt(t,r,n,o,i,s,a,u,c))},e.prototype.dropShadow=function(t,r){var n=new e,o=n.elements,i=t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3];return o[0]=i-r[0]*t[0],o[1]=-r[1]*t[0],o[2]=-r[2]*t[0],o[3]=-r[3]*t[0],o[4]=-r[0]*t[1],o[5]=i-r[1]*t[1],o[6]=-r[2]*t[1],o[7]=-r[3]*t[1],o[8]=-r[0]*t[2],o[9]=-r[1]*t[2],o[10]=i-r[2]*t[2],o[11]=-r[3]*t[2],o[12]=-r[0]*t[3],o[13]=-r[1]*t[3],o[14]=-r[2]*t[3],o[15]=i-r[3]*t[3],this.concat(n)},e.prototype.dropShadowDirectionally=function(e,t,r,n,o,i,s,a,u){var c=n*e+o*t+i*r;return this.dropShadow([e,t,r,-c],[s,a,u,0])},e.prototype.concat=function(e){var t,r,n,o,i,s,a,u;if(r=this.elements,n=this.elements,o=e.elements,r===o)for(o=new Float32Array(16),t=0;t<16;++t)o[t]=r[t];for(t=0;t<4;t++)i=n[t],s=n[t+4],a=n[t+8],u=n[t+12],r[t]=i*o[0]+s*o[1]+a*o[2]+u*o[3],r[t+4]=i*o[4]+s*o[5]+a*o[6]+u*o[7],r[t+8]=i*o[8]+s*o[9]+a*o[10]+u*o[11],r[t+12]=i*o[12]+s*o[13]+a*o[14]+u*o[15];return this},e}();t.Mat4=i}])})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(){}return e.between=function(e,t){var r=(e.x+t.x)/2,o=(e.y+t.y)/2,i=(e.z+t.z)/2;return new n.Vec3(r,o,i)},e}();t.Midpoint=o;var i=function(){function e(){}return e.between=function(e,t){var r=Math.max(e.x,t.x),o=Math.min(e.x,t.x),i=Math.max(e.y,t.y),s=Math.min(e.y,t.y),a=Math.max(e.z,t.z),u=Math.min(e.z,t.z),c=(r-o)/3,l=(i-s)/3,f=(a-u)/3,h=new n.Vec3(o+c,s+l,u+f);return{first:h,second:new n.Vec3(h.x+c,h.y+l,h.z+f)}},e}();t.ThirdPoints=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o={red:.9,green:.9,blue:.9},i={red:0,green:0,blue:0},s=new n.Vec3(0,0,0),a=new n.Vec3(0,0,-1),u=new n.Vec3(0,1,0);t.Settings={defaultRendereMode:"points",defaultShapeMode:"points",defaultPointSize:10,defaultBackgroundColor:o,defaultBackgroundAlpha:1,defaultColor:i,defaultEyePosition:s,defaultLookAtPoint:a,defaultUpPosition:u,defaultIsFullScreen:!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.renderModeToWebGlConstant=function(e,t){switch(e){case"points":return t.POINTS;case"lines":return t.LINES;case"lineStrip":return t.LINE_STRIP;case"lineLoop":return t.LINE_LOOP;case"triangles":return t.TRIANGLES;case"triangleStrip":return t.TRIANGLE_STRIP;case"triangleFan":return t.TRIANGLE_FAN;default:throw"could not find renderMode named "+e}},e}();t.RenderModeMapper=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=r(5),i=function(){function e(e,t,r){void 0===e&&(e=o.Settings.defaultEyePosition),void 0===t&&(t=o.Settings.defaultLookAtPoint),void 0===r&&(r=o.Settings.defaultUpPosition),this._eyePosition=e,this._lookAtPoint=t,this._upPosition=r,this._viewMatrix=new n.Mat4,this._viewMatrix.setLookAt(e.x,e.y,e.z,t.x,t.y,t.z,r.x,r.y,r.z)}return Object.defineProperty(e.prototype,"viewMatrix",{get:function(){return this._viewMatrix.elements},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eyePosition",{get:function(){return this._eyePosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lookAtPoint",{get:function(){return this._lookAtPoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upPosition",{get:function(){return this._upPosition},enumerable:!0,configurable:!0}),e.prototype.setCameraView=function(e,t,r){this._eyePosition=e,this._lookAtPoint=t,this._upPosition=r,this._viewMatrix.setLookAt(e.x,e.y,e.z,t.x,t.y,t.z,r.x,r.y,r.z)},e.prototype.translateEyePosition=function(e){var t=new n.Vec3(e.x,e.y,e.z-1),r=new n.Vec3(e.x,e.y+1,e.z);this.setCameraView(e,t,r)},e}();t.Camera=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.isIE=function(){return!!document.documentMode},e.prototype.isEdge=function(){return!this.isIE()&&!!window.StyleMedia},e}();t.BrowserHelper=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,r){this.red=e,this.green=t,this.blue=r}return e}();t.RGBColor=n},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),i=r(2),s=r(1),a=r(4),u=r(11),c=r(0),l=function(e){function t(t,r,n,o,i){void 0===o&&(o=u.Precision.High);var s=e.call(this,i,t,r)||this;return s.horizontalRadius=(s.boundingRect.topRight.x-s.boundingRect.topLeft.x)/2,s.verticalRadius=(s.boundingRect.topLeft.y-s.boundingRect.bottomLeft.y)/2,s.center=a.Midpoint.between(s.boundingRect.topLeft,s.boundingRect.bottomRight),s.leftEndPoint=a.Midpoint.between(s.boundingRect.topLeft,s.boundingRect.bottomLeft),s.rightEndPoint=a.Midpoint.between(s.boundingRect.topRight,s.boundingRect.bottomRight),s.precision=o,s.computeVerticies(),s.glRenderMode=n.TRIANGLES,s}return n(t,e),t.prototype.computeVerticies=function(){var e,r=0;this.precision===u.Precision.High?(e=t.highPrecisionNumberOfPointsAlongCurve,r=t.highPrecisionNumberOfVerticies):this.precision===u.Precision.Low&&(e=t.lowPrecisionNumberOfPointsAlongCurve,r=t.lowPrecisionNumberOfVerticies);for(var n=new Float32Array(r*c.Constants.floatsPerVertex),i=this.leftEndPoint.x,a=2*this.horizontalRadius/(e/2),l=this.leftEndPoint,f=this.leftEndPoint,h=0,d=0;d<e/2-1;d++){i+=a;var p=this.getYDistanceFromCenterForX(i),g=new o.Vec3(i,p+this.center.y),b=new o.Vec3(i,this.center.y-p);this.addTriangleToFloat32Array(n,h,l,this.center,g),h+=c.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(n,h,f,this.center,b),h+=c.Constants.floatsPerTriangle,l=g,f=b}this.addTriangleToFloat32Array(n,h,l,this.center,this.rightEndPoint),h+=c.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(n,h,f,this.center,this.rightEndPoint),this._verticies=new s.Float32Vector(n,n.length)},t.prototype.getYDistanceFromCenterForX=function(e){var t=Math.pow(this.verticalRadius,2);return Math.sqrt(t-t*Math.pow(e-this.center.x,2)/Math.pow(this.horizontalRadius,2))},t.numberOfEndPoints=2,t.highPrecisionNumberOfPointsAlongCurve=400+t.numberOfEndPoints,t.highPrecisionNumberOfVerticies=t.highPrecisionNumberOfPointsAlongCurve*c.Constants.verticiesPerTriangle,t.lowPrecisionNumberOfPointsAlongCurve=8+t.numberOfEndPoints,t.lowPrecisionNumberOfVerticies=t.lowPrecisionNumberOfPointsAlongCurve*c.Constants.verticiesPerTriangle,t}(i.Shape2d);t.Ellipse=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e[e.Low=0]="Low",e[e.High=1]="High"}(t.Precision||(t.Precision={}))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(1),s=r(4),a=r(0),u=function(e){function t(t,r,n,o){var i=e.call(this,o,t,r)||this;return i.computeVerticies(),i.glRenderMode=n.TRIANGLES,i}return n(t,e),t.prototype.computeVerticies=function(){var e=s.Midpoint.between(this.boundingRect.topLeft,this.boundingRect.topRight),r=new Float32Array(t.numberOfVerticies*a.Constants.floatsPerVertex);this.addTriangleToFloat32Array(r,0,this.boundingRect.bottomLeft,e,this.boundingRect.bottomRight),this._verticies=new i.Float32Vector(r,r.length)},t.numberOfVerticies=3,t}(o.Shape2d);t.Triangle=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(1),s=r(0),a=function(e){function t(t,r,n,o){var i=e.call(this,o,t,r)||this;return i.computeVerticies(),i.glRenderMode=n.TRIANGLES,i}return n(t,e),t.prototype.computeVerticies=function(){var e=new Float32Array(t.numberOfVerticies*s.Constants.floatsPerVertex),r=0;this.addTriangleToFloat32Array(e,r,this.boundingRect.topLeft,this.boundingRect.topRight,this.boundingRect.bottomLeft),r+=s.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(e,r,this.boundingRect.bottomLeft,this.boundingRect.topRight,this.boundingRect.bottomRight),this._verticies=new i.Float32Vector(e,e.length)},t.numberOfVerticies=6,t}(o.Shape2d);t.Rectangle=a},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(1),s=r(4),a=r(0),u=function(e){function t(t,r,n,o){var i=e.call(this,o,t,r)||this;return i.computeVerticies(),i.glRenderMode=n.TRIANGLES,i}return n(t,e),t.prototype.computeVerticies=function(){var e=new Float32Array(t.numberOfVerticies*a.Constants.floatsPerVertex),r=s.ThirdPoints.between(this.boundingRect.topLeft,this.boundingRect.topRight),n=r.first,o=r.second,u=s.ThirdPoints.between(this.boundingRect.bottomRight,this.boundingRect.bottomLeft),c=u.first,l=u.second,f=s.Midpoint.between(this.boundingRect.bottomLeft,this.boundingRect.topLeft),h=s.Midpoint.between(this.boundingRect.topRight,this.boundingRect.bottomRight),d=0;this.addTriangleToFloat32Array(e,d,n,c,f),d+=a.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(e,d,n,c,l),d+=a.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(e,d,n,o,l),d+=a.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(e,d,o,l,h),this._verticies=new i.Float32Vector(e,e.length)},t.numberOfVerticies=12,t}(o.Shape2d);t.Hexagon=u},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(1),s=r(4),a=r(0),u=function(e){function t(t,r,n,o){var i=e.call(this,o,t,r)||this;return i.computeVerticies(),i.glRenderMode=n.TRIANGLES,i}return n(t,e),t.prototype.computeVerticies=function(){var e=new Float32Array(t.numberOfVerticies*a.Constants.floatsPerVertex),r=s.ThirdPoints.between(this.boundingRect.topLeft,this.boundingRect.topRight),n=s.ThirdPoints.between(this.boundingRect.topRight,this.boundingRect.bottomRight),o=s.ThirdPoints.between(this.boundingRect.bottomLeft,this.boundingRect.bottomRight),u=s.ThirdPoints.between(this.boundingRect.topLeft,this.boundingRect.bottomLeft),c=r.first,l=r.second,f=n.second,h=n.first,d=o.first,p=o.second,g=u.second,b=u.first,_=0;this.addTriangleToFloat32Array(e,_,g,c,b),_+=a.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(e,_,b,c,d),_+=a.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(e,_,d,c,p),_+=a.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(e,_,c,p,l),_+=a.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(e,_,l,p,h),_+=a.Constants.floatsPerTriangle,this.addTriangleToFloat32Array(e,_,l,h,f),_+=a.Constants.floatsPerTriangle,this._verticies=new i.Float32Vector(e,e.length)},t.numberOfVerticies=18,t}(o.Shape2d);t.Octogon=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17);t.WebGLRenderer=n.WebGLRenderer;var o=r(22);t.ColorMapper=o.ColorMapper;var i=r(23);t.Line=i.Line;var s=r(2);t.Shape2d=s.Shape2d;var a=r(25);t.ShapeFactory=a.ShapeFactory;var u=r(10);t.Ellipse=u.Ellipse;var c=r(13);t.Rectangle=c.Rectangle;var l=r(14);t.Hexagon=l.Hexagon;var f=r(15);t.Octogon=f.Octogon;var h=r(12);t.Triangle=h.Triangle;var d=r(9);t.RGBColor=d.RGBColor;var p=r(7);t.Camera=p.Camera;var g=r(26);t.Point=g.Point;var b=r(3);t.Vec3=b.Vec3;var _=r(8);t.BrowserHelper=_.BrowserHelper},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),o=r(18),i=r(7),s=r(0),a=r(19),u=r(5),c=r(8),l=r(20),f=function(){function e(e,t){void 0===t&&(t={});var r=this;this._vertexShaderSource="    attribute vec4 "+a.ShaderSettings.positionAttributeName+";\n    attribute vec4 "+a.ShaderSettings.colorAttributeName+";\n    uniform mat4 "+a.ShaderSettings.viewMatrixUniformName+";\n    uniform float "+a.ShaderSettings.pointSizeUniformName+";\n    varying vec4 v_color;\n    void main(void)\n    {\n        gl_Position = "+a.ShaderSettings.viewMatrixUniformName+" * "+a.ShaderSettings.positionAttributeName+";\n        gl_PointSize = "+a.ShaderSettings.pointSizeUniformName+";\n        v_color = "+a.ShaderSettings.colorAttributeName+";\n    }",this._fragmentShaderSource="    precision mediump float;\n    uniform vec4 u_fragColor;\n    varying vec4 v_color;\n    void main(void)\n    {\n        gl_FragColor = v_color;\n    }",this.handleContextLost=function(){console.log("lost the context"),r.stop()},this.handleContextRestored=function(){console.log("restored the context"),r.start()},this.renderLoop=function(){r.draw(),r._animationFrameRequestId=r._window.requestAnimationFrame(r.renderLoop)},this.resizeCanvas=function(e,t,r){r.setViewPortDimensions(t.innerWidth,t.innerHeight),e.width=t.innerWidth,e.height=t.innerHeight},this._canvas=l.makeLostContextSimulatingCanvas(e),this._canvas.loseContextInNCalls(5),this._browserHelper=t.browserHelper||new c.BrowserHelper,this.getContext(),this.initializeRenderingOptions(t),this.setViewPortDimensions(e.width,e.height),this.initShaders(),this.initializeVertexBuffers(),this._lineRenderMode=n.RenderModeMapper.renderModeToWebGlConstant(s.Constants.lineGlRenderMode,this.gl),this.setupWindowCallbacks()}return Object.defineProperty(e.prototype,"renderMode",{get:function(){return this._renderMode},set:function(e){this._renderMode=e,this._glRenderMode=n.RenderModeMapper.renderModeToWebGlConstant(e,this.gl)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointSize",{get:function(){return this._pointSize},set:function(e){this._pointSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFullscreen",{get:function(){return this._isFullscreen},set:function(e){this._isFullscreen=e,this.setupWindowCallbacks()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resizeCallback",{get:function(){return this._resizeCallback},set:function(e){this._resizeCallback=e,this.setupWindowCallbacks()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"camera",{get:function(){return this._camera},set:function(e){this._camera=e},enumerable:!0,configurable:!0}),e.prototype.setViewPortDimensions=function(e,t){this.gl.viewport(0,0,e,t)},e.prototype.addXYZPointToScene=function(e,t,r,n,o,i,s){switch(void 0===r&&(r=0),void 0===n&&(n=u.Settings.defaultColor.red),void 0===o&&(o=u.Settings.defaultColor.green),void 0===i&&(i=u.Settings.defaultColor.blue),void 0===s&&(s=this._glRenderMode),s){case this.gl.POINTS:this._pointsVertexBuffer.addVertex(new Float32Array([e,t,r,n,o,i]));break;case this.gl.LINES:this._linesVertexBuffer.addVertex(new Float32Array([e,t,r,n,o,i]));break;case this.gl.LINE_STRIP:this._lineStripVertexBuffer.addVertex(new Float32Array([e,t,r,n,o,i]));break;case this.gl.LINE_LOOP:this._lineLoopVertexBuffer.addVertex(new Float32Array([e,t,r,n,o,i]));break;case this.gl.TRIANGLES:this._trianglesVertexBuffer.addVertex(new Float32Array([e,t,r,n,o,i]));break;case this.gl.TRIANGLE_STRIP:this._triangleStripVertexBuffer.addVertex(new Float32Array([e,t,r,n,o,i]));break;case this.gl.TRIANGLE_FAN:this._triangleFanVertexBuffer.addVertex(new Float32Array([e,t,r,n,o,i]))}},e.prototype.addShapeToScene=function(e){if(e.glRenderMode===this._lineRenderMode)this._lineFloat32Arrays.push(e.verticies);else for(var t=0,r=0;r<e.verticies.length;r+=s.Constants.floatsPerVertex){var n=e.verticies[t];t++;var o=e.verticies[t];t++;var i=e.verticies[t];t++;var a=e.verticies[t];t++;var u=e.verticies[t];t++;var c=e.verticies[t];t++,this.addXYZPointToScene(n,o,i,a,u,c,e.glRenderMode)}},e.prototype.addShapesToScene=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this.addShapeToScene(n)}},e.prototype.removeAllVeriticies=function(){this.initializeVertexBuffers()},e.prototype.start=function(){this.renderLoop()},e.prototype.stop=function(){this._window.cancelAnimationFrame(this._animationFrameRequestId)},e.prototype.draw=function(){this.gl.clearColor(this._backgroundColor.red,this._backgroundColor.green,this._backgroundColor.blue,u.Settings.defaultBackgroundAlpha),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(var e=0,t=this._vertexBuffers;e<t.length;e++)for(var r=t[e],n=0,o=r.verticiesStack;n<o.length;n++){var i=o[n];i.size>0&&this.drawGlArray(i.getTrimmedArray(),r.glRenderMode)}for(var s=0,a=this._lineFloat32Arrays;s<a.length;s++){var c=a[s];c.length>0&&this.drawGlArray(c,this._lineRenderMode)}},e.prototype.setCanvasEventHandlers=function(){this._canvas.addEventListener("webglcontextlost",this.handleContextLost,!1),this._canvas.addEventListener("webglcontextrestored",this.handleContextRestored,!1)},e.prototype.getContext=function(){var e,t=this._browserHelper.isIE(),r=this._browserHelper.isEdge(),n=t||r?"experimental-webgl":"webgl";try{e=this._canvas.getContext(n,{alpha:!1,antialias:!1,depth:!1})}catch(e){throw"error creating webgl context!: "+e.toString()}if(null===e)throw"error creating webgl context!, gl === null";this.gl=e},e.prototype.initializeRenderingOptions=function(e){this._renderMode=e&&e.renderMode||u.Settings.defaultRendereMode,this._glRenderMode=n.RenderModeMapper.renderModeToWebGlConstant(this._renderMode,this.gl),this._pointSize=e&&e.pointSize||u.Settings.defaultPointSize,this._backgroundColor=e&&e.backgroundColor||u.Settings.defaultBackgroundColor,this._camera=e&&e.camera||new i.Camera,this._window=e&&e.window||window,this._isFullscreen=e&&e.fullscreen||u.Settings.defaultIsFullScreen,this._resizeCallback=e&&e.resizeCallback||this.resizeCanvas},e.prototype.initializeVertexBuffers=function(){this._pointsVertexBuffer=new o.VertexBuffer(this.gl.POINTS,this.gl),this._linesVertexBuffer=new o.VertexBuffer(this.gl.LINES,this.gl),this._lineStripVertexBuffer=new o.VertexBuffer(this.gl.LINE_STRIP,this.gl),this._lineLoopVertexBuffer=new o.VertexBuffer(this.gl.LINE_LOOP,this.gl),this._trianglesVertexBuffer=new o.VertexBuffer(this.gl.TRIANGLES,this.gl),this._triangleStripVertexBuffer=new o.VertexBuffer(this.gl.TRIANGLE_STRIP,this.gl),this._triangleFanVertexBuffer=new o.VertexBuffer(this.gl.TRIANGLE_FAN,this.gl),this._vertexBuffers=[this._pointsVertexBuffer,this._linesVertexBuffer,this._lineStripVertexBuffer,this._lineLoopVertexBuffer,this._trianglesVertexBuffer,this._triangleStripVertexBuffer,this._triangleFanVertexBuffer],this._lineFloat32Arrays=[]},e.prototype.drawGlArray=function(e,t){var r=this.gl.getAttribLocation(this._shaderProgram,a.ShaderSettings.positionAttributeName),n=this.gl.getAttribLocation(this._shaderProgram,a.ShaderSettings.colorAttributeName),o=this.gl.getUniformLocation(this._shaderProgram,a.ShaderSettings.pointSizeUniformName),i=this.gl.getUniformLocation(this._shaderProgram,a.ShaderSettings.viewMatrixUniformName);if(!o||!i){var u={};u[a.ShaderSettings.pointSizeUniformName]=o,u[a.ShaderSettings.viewMatrixUniformName]=i;throw this.createUniforNotFoundErrorMessage(u)}var c=e.BYTES_PER_ELEMENT,l=c*s.Constants.floatsPerPoint,f=c*s.Constants.floatsPerVertex,h=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,h),this.gl.bufferData(this.gl.ARRAY_BUFFER,e,this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(r,s.Constants.floatsPerPoint,this.gl.FLOAT,!1,f,0),this.gl.enableVertexAttribArray(r),this.gl.vertexAttribPointer(n,s.Constants.floatsPerColor,this.gl.FLOAT,!1,f,l),this.gl.enableVertexAttribArray(n),this.gl.uniformMatrix4fv(i,!1,this._camera.viewMatrix),this.gl.uniform1f(o,this._pointSize),this.gl.drawArrays(t,0,e.length/s.Constants.floatsPerVertex)},e.prototype.initShaders=function(){var e=this.createShader(this._fragmentShaderSource,"fragment"),t=this.createShader(this._vertexShaderSource,"vertex"),r=this.gl.createProgram();if(null===r)throw"could not create shader program";if(this._shaderProgram=r,this.gl.attachShader(this._shaderProgram,t),this.gl.attachShader(this._shaderProgram,e),this.gl.linkProgram(this._shaderProgram),!this.gl.getProgramParameter(this._shaderProgram,this.gl.LINK_STATUS))throw"could not link shader program";this.gl.useProgram(this._shaderProgram)},e.prototype.createShader=function(e,t){var r=null;if("fragment"===t?r=this.gl.createShader(this.gl.FRAGMENT_SHADER):"vertex"===t&&(r=this.gl.createShader(this.gl.VERTEX_SHADER)),this.gl.shaderSource(r,e),this.gl.compileShader(r),!this.gl.getShaderParameter(r,this.gl.COMPILE_STATUS))throw"could not compile shader, shader info log: "+this.gl.getShaderInfoLog(r);return r},e.prototype.createUniforNotFoundErrorMessage=function(e){var t="cannot find uniform in shader program\n";t+="potential culprits:\n";for(var r in e)e.hasOwnProperty(r)&&(t+="\t"+r+": "+e[r]+"\n");return t},e.prototype.setupWindowCallbacks=function(){var e=this;this._isFullscreen&&(this._window.addEventListener("resize",function(){e._resizeCallback(e._canvas,e._window,e)},!1),this._resizeCallback(this._canvas,this._window,this))},e}();t.WebGLRenderer=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(0),i=function(){function e(e,t){if(!this.glRenderModeValidator(e,t))throw"cannot initialize vertex buffer of unrecognized gl render mode";this.glRenderMode=e,this._topVertexVector=new n.Float32Vector(new Float32Array(0),o.Constants.vertexBufferFloatLimit),this.verticiesStack=new Array,this.verticiesStack.push(this._topVertexVector)}return e.prototype.addVertex=function(e){if(e.length!==o.Constants.floatsPerVertex)throw"cannot add vertex repersented by "+e.length+" floats, we only accept verticies of "+o.Constants.floatsPerVertex+" floats (x, y, z, r, g, b)";this._topVertexVector.size+e.length<=o.Constants.vertexBufferFloatLimit?this._topVertexVector.addArray(e):(this._topVertexVector=new n.Float32Vector(e,o.Constants.vertexBufferFloatLimit),this.verticiesStack.push(this._topVertexVector))},e.prototype.glRenderModeValidator=function(e,t){switch(e){case t.POINTS:case t.LINES:case t.LINE_STRIP:case t.LINE_LOOP:case t.TRIANGLES:case t.TRIANGLE_STRIP:case t.TRIANGLE_FAN:return!0}return!1},e}();t.VertexBuffer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderSettings={positionAttributeName:"a_position",colorAttributeName:"a_color",pointSizeUniformName:"u_pointSize",viewMatrixUniformName:"u_viewMatrix"}},function(e,t,r){(function(t){WebGLDebugUtils=function(){function e(e){if(null==p){p={},g={};for(var t in e)"number"==typeof e[t]&&(p[e[t]]=t,g[t]=e[t])}}function r(){if(null==p)throw"WebGLDebugUtils.init(ctx) not called"}function n(e){return r(),void 0!==p[e]}function o(e){r();var t=p[e];return void 0!==t?"gl."+t:"/*UNKNOWN WebGL ENUM*/ 0x"+e.toString(16)}function i(e,t,r,n){var i=d[e];if(void 0!==i){var i=i[t];if(void 0!==i&&i[r]){if("object"==typeof i[r]&&void 0!==i[r].enumBitwiseOr){for(var s=i[r].enumBitwiseOr,a=0,u=[],c=0;c<s.length;++c){var l=g[s[c]];0!=(n&l)&&(a|=l,u.push(o(l)))}return a===n?u.join(" | "):o(n)}return o(n)}}return null===n?"null":void 0===n?"undefined":n.toString()}function s(e,t){for(var r="",n=t.length,o=0;o<n;++o)r+=(0==o?"":", ")+i(e,n,o,t[o]);return r}function a(e,t,r){e.__defineGetter__(r,function(){return t[r]}),e.__defineSetter__(r,function(e){t[r]=e})}function u(t,r,n,s){function c(e,t){return function(){n&&n(t,arguments);var o=e[t].apply(e,arguments),i=s.getError();return 0!=i&&(l[i]=!0,r(i,t,arguments)),o}}s=s||t,e(t),r=r||function(e,t,r){for(var n="",s=r.length,a=0;a<s;++a)n+=(0==a?"":", ")+i(t,s,a,r[a]);h("WebGL error "+o(e)+" in "+t+"("+n+")")};var l={},f={};for(var d in t)if("function"==typeof t[d])if("getExtension"!=d)f[d]=c(t,d);else{var p=c(t,d);f[d]=function(){return u(p.apply(t,arguments),r,n,s)}}else a(f,t,d);return f.getError=function(){for(var e in l)if(l.hasOwnProperty(e)&&l[e])return l[e]=!1,e;return t.NO_ERROR},f}function c(e){var t=e.getParameter(e.MAX_VERTEX_ATTRIBS),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);for(var n=0;n<t;++n)e.disableVertexAttribArray(n),e.vertexAttribPointer(n,4,e.FLOAT,!1,0,0),e.vertexAttrib1f(n,0);e.deleteBuffer(r);for(var o=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),n=0;n<o;++n)e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_CUBE_MAP,null),e.bindTexture(e.TEXTURE_2D,null);for(e.activeTexture(e.TEXTURE0),e.useProgram(null),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.DITHER),e.disable(e.SCISSOR_TEST),e.blendColor(0,0,0,0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.clearColor(0,0,0,0),e.clearDepth(1),e.clearStencil(-1),e.colorMask(!0,!0,!0,!0),e.cullFace(e.BACK),e.depthFunc(e.LESS),e.depthMask(!0),e.depthRange(0,1),e.frontFace(e.CCW),e.hint(e.GENERATE_MIPMAP_HINT,e.DONT_CARE),e.lineWidth(1),e.pixelStorei(e.PACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_ALIGNMENT,4),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.UNPACK_COLORSPACE_CONVERSION_WEBGL&&e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.BROWSER_DEFAULT_WEBGL),e.polygonOffset(0,0),e.sampleCoverage(1,!1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilMask(4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.viewport(0,0,e.canvas.width,e.canvas.height),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT);e.getError(););}function l(e){function t(e){return"function"==typeof e?e:function(t){e.handleEvent(t)}}function r(){for(var e=Object.keys(P),t=0;t<e.length;++t)delete P[e]}function n(){++v,g||_==v&&e.loseContext()}function o(e,t){var r=e[t];return function(){if(n(),!g){return r.apply(e,arguments)}}}function i(){for(var e=0;e<b.length;++e){var t=b[e];t instanceof WebGLBuffer?l.deleteBuffer(t):t instanceof WebGLFramebuffer?l.deleteFramebuffer(t):t instanceof WebGLProgram?l.deleteProgram(t):t instanceof WebGLRenderbuffer?l.deleteRenderbuffer(t):t instanceof WebGLShader?l.deleteShader(t):t instanceof WebGLTexture&&l.deleteTexture(t)}}function s(e){return{statusMessage:e,preventDefault:function(){m=!0}}}function u(e){for(var t in e)"function"==typeof e[t]?f[t]=o(e,t):a(f,e,t);f.getError=function(){if(n(),!g)for(var e;e=l.getError();)P[e]=!0;for(var e in P)if(P[e])return delete P[e],e;return f.NO_ERROR};for(var r=["createBuffer","createFramebuffer","createProgram","createRenderbuffer","createShader","createTexture"],i=0;i<r.length;++i){var s=r[i];f[s]=function(t){return function(){if(n(),g)return null;var r=t.apply(e,arguments);return r.__webglDebugContextLostId__=p,b.push(r),r}}(e[s])}for(var u=["getActiveAttrib","getActiveUniform","getBufferParameter","getContextAttributes","getAttachedShaders","getFramebufferAttachmentParameter","getParameter","getProgramParameter","getProgramInfoLog","getRenderbufferParameter","getShaderParameter","getShaderInfoLog","getShaderSource","getTexParameter","getUniform","getUniformLocation","getVertexAttrib"],i=0;i<u.length;++i){var s=u[i];f[s]=function(t){return function(){return n(),g?null:t.apply(e,arguments)}}(f[s])}for(var c=["isBuffer","isEnabled","isFramebuffer","isProgram","isRenderbuffer","isShader","isTexture"],i=0;i<c.length;++i){var s=c[i];f[s]=function(t){return function(){return n(),!g&&t.apply(e,arguments)}}(f[s])}return f.checkFramebufferStatus=function(t){return function(){return n(),g?f.FRAMEBUFFER_UNSUPPORTED:t.apply(e,arguments)}}(f.checkFramebufferStatus),f.getAttribLocation=function(t){return function(){return n(),g?-1:t.apply(e,arguments)}}(f.getAttribLocation),f.getVertexAttribOffset=function(t){return function(){return n(),g?0:t.apply(e,arguments)}}(f.getVertexAttribOffset),f.isContextLost=function(){return g},f}var l,f,h=[],d=[],f={},p=1,g=!1,b=[],_=0,v=0,m=!1,y=0,P={};e.getContext=function(t){return function(){var r=t.apply(e,arguments);if(r instanceof WebGLRenderingContext){if(r!=l){if(l)throw"got different context";l=r,f=u(l)}return f}return r}}(e.getContext);var w=function(e){h.push(t(e))},x=function(e){d.push(t(e))};return function(e){var t=e.addEventListener;e.addEventListener=function(r,n,o){switch(r){case"webglcontextlost":w(n);break;case"webglcontextrestored":x(n);break;default:t.apply(e,arguments)}}}(e),e.loseContext=function(){if(!g){for(g=!0,_=0,++p;l.getError(););r(),P[l.CONTEXT_LOST_WEBGL]=!0;var t=s("context lost"),n=h.slice();setTimeout(function(){for(var r=0;r<n.length;++r)n[r](t);y>=0&&setTimeout(function(){e.restoreContext()},y)},0)}},e.restoreContext=function(){g&&d.length&&setTimeout(function(){if(!m)throw"can not restore. webglcontestlost listener did not call event.preventDefault";i(),c(l),g=!1,v=0,m=!1;for(var e=d.slice(),t=s("context restored"),r=0;r<e.length;++r)e[r](t)},0)},e.loseContextInNCalls=function(e){if(g)throw"You can not ask a lost contet to be lost";_=v+e},e.getNumCalls=function(){return v},e.setRestoreTimeout=function(e){y=e},e}"undefined"==typeof window&&(window=t);var f=function(e){window.console&&window.console.log&&window.console.log(e)},h=function(e){window.console&&window.console.error?window.console.error(e):f(e)},d={enable:{1:{0:!0}},disable:{1:{0:!0}},getParameter:{1:{0:!0}},drawArrays:{3:{0:!0}},drawElements:{4:{0:!0,2:!0}},createShader:{1:{0:!0}},getShaderParameter:{2:{1:!0}},getProgramParameter:{2:{1:!0}},getShaderPrecisionFormat:{2:{0:!0,1:!0}},getVertexAttrib:{2:{1:!0}},vertexAttribPointer:{6:{2:!0}},bindTexture:{2:{0:!0}},activeTexture:{1:{0:!0}},getTexParameter:{2:{0:!0,1:!0}},texParameterf:{3:{0:!0,1:!0}},texParameteri:{3:{0:!0,1:!0,2:!0}},texImage2D:{9:{0:!0,2:!0,6:!0,7:!0},6:{0:!0,2:!0,3:!0,4:!0}},texSubImage2D:{9:{0:!0,6:!0,7:!0},7:{0:!0,4:!0,5:!0}},copyTexImage2D:{8:{0:!0,2:!0}},copyTexSubImage2D:{8:{0:!0}},generateMipmap:{1:{0:!0}},compressedTexImage2D:{7:{0:!0,2:!0}},compressedTexSubImage2D:{8:{0:!0,6:!0}},bindBuffer:{2:{0:!0}},bufferData:{3:{0:!0,2:!0}},bufferSubData:{3:{0:!0}},getBufferParameter:{2:{0:!0,1:!0}},pixelStorei:{2:{0:!0,1:!0}},readPixels:{7:{4:!0,5:!0}},bindRenderbuffer:{2:{0:!0}},bindFramebuffer:{2:{0:!0}},checkFramebufferStatus:{1:{0:!0}},framebufferRenderbuffer:{4:{0:!0,1:!0,2:!0}},framebufferTexture2D:{5:{0:!0,1:!0,2:!0}},getFramebufferAttachmentParameter:{3:{0:!0,1:!0,2:!0}},getRenderbufferParameter:{2:{0:!0,1:!0}},renderbufferStorage:{4:{0:!0,1:!0}},clear:{1:{0:{enumBitwiseOr:["COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT"]}}},depthFunc:{1:{0:!0}},blendFunc:{2:{0:!0,1:!0}},blendFuncSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},blendEquation:{1:{0:!0}},blendEquationSeparate:{2:{0:!0,1:!0}},stencilFunc:{3:{0:!0}},stencilFuncSeparate:{4:{0:!0,1:!0}},stencilMaskSeparate:{2:{0:!0}},stencilOp:{3:{0:!0,1:!0,2:!0}},stencilOpSeparate:{4:{0:!0,1:!0,2:!0,3:!0}},cullFace:{1:{0:!0}},frontFace:{1:{0:!0}},drawArraysInstancedANGLE:{4:{0:!0}},drawElementsInstancedANGLE:{5:{0:!0,2:!0}},blendEquationEXT:{1:{0:!0}}},p=null,g=null;return{init:e,mightBeEnum:n,glEnumToString:o,glFunctionArgToString:i,glFunctionArgsToString:s,makeDebugContext:u,makeLostContextSimulatingCanvas:l,resetToInitialState:c}}(),e.exports=WebGLDebugUtils}).call(t,r(21))},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=function(){function e(){}return e.colorToRGBColor=function(e){switch(e){case"red":return new n.RGBColor(1,0,0);case"orange":return new n.RGBColor(1,.271,0);case"yellow":return new n.RGBColor(1,1,0);case"green":return new n.RGBColor(0,1,0);case"cyan":return new n.RGBColor(0,1,1);case"blue":return new n.RGBColor(0,0,1);case"indigo":return new n.RGBColor(.294,0,.51);case"fuchsia":return new n.RGBColor(1,0,1);case"white":return new n.RGBColor(1,1,1);default:throw"could not find color "+e}},e}();t.ColorMapper=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(1),s=r(0),a=r(6),u=function(e){function t(t,r,n){var o=e.call(this,n)||this;new Float32Array(s.Constants.floatsPerVertex);return o._vertexPositions=new Array,o._vertexPositions=new Array,o._vertexPositions.push(t),o.computeVerticies(),o.glRenderMode=a.RenderModeMapper.renderModeToWebGlConstant(s.Constants.lineGlRenderMode,r),o}return n(t,e),Object.defineProperty(t.prototype,"verticies",{get:function(){return this._verticies.getTrimmedArray()},enumerable:!0,configurable:!0}),t.prototype.computeVerticies=function(){for(var e=new Float32Array(this._vertexPositions.length*s.Constants.floatsPerVertex),t=0;t<this._vertexPositions.length;t++){var r=t*s.Constants.floatsPerVertex,n=this._vertexPositions[t];this.addXYZAndColorToFloat32Array(e,r,n.x,n.y,n.z)}this._verticies=new i.Float32Vector(e)},t.prototype.addVertex=function(e){this._vertexPositions.push(e);var t=new Float32Array(s.Constants.floatsPerVertex);this.addXYZAndColorToFloat32Array(t,0,e.x,e.y,e.z),this._verticies.addArray(t)},t}(o.Shape2d);t.Line=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3),o=function(){function e(e,t){this.isTopLeftBottomRight(e,t)?(this.topLeft=e,this.topRight=new n.Vec3(t.x,e.y,t.z),this.bottomRight=t,this.bottomLeft=new n.Vec3(e.x,t.y,e.z)):this.isBottomRightTopLeft(e,t)?(this.topLeft=t,this.topRight=new n.Vec3(e.x,t.y,e.z),this.bottomRight=e,this.bottomLeft=new n.Vec3(t.x,e.y,t.z)):this.isBottomLeftTopRight(e,t)?(this.topLeft=new n.Vec3(e.x,t.y,e.z),this.topRight=t,this.bottomRight=new n.Vec3(t.x,e.y,t.z),this.bottomLeft=e):(this.topLeft=new n.Vec3(t.x,e.y,t.z),this.topRight=e,this.bottomRight=new n.Vec3(e.x,t.y,e.z),this.bottomLeft=t)}return e.prototype.isTopLeftBottomRight=function(e,t){return e.x<=t.x&&e.y>=t.y},e.prototype.isBottomRightTopLeft=function(e,t){return e.x>=t.x&&e.y<=t.y},e.prototype.isBottomLeftTopRight=function(e,t){return e.x<=t.x&&e.y<=t.y},e}();t.BoundingRectangle=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(12),i=r(13),s=r(14),a=r(15),u=r(11),c=function(){function e(){}return e.createShape=function(e,t,r,n,o){switch(r){case"triangles":return this.createTriangle(e,t,n,o);case"rectangles":return this.createRectangle(e,t,n,o);case"hexagons":return this.createHexagon(e,t,n,o);case"octogons":return this.createOctogon(e,t,n,o);case"ellipses":return this.createEllipse(e,t,n,o);default:throw Error("cannot recognize shape type "+r)}},e.createTriangle=function(e,t,r,n){return new o.Triangle(e,t,r,n)},e.createRectangle=function(e,t,r,n){return new i.Rectangle(e,t,r,n)},e.createHexagon=function(e,t,r,n){return new s.Hexagon(e,t,r,n)},e.createOctogon=function(e,t,r,n){return new a.Octogon(e,t,r,n)},e.createEllipse=function(e,t,r,o){return new n.Ellipse(e,t,r,u.Precision.High,o)},e}();t.ShapeFactory=c},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),i=r(0),s=r(1),a=function(e){function t(t,r,n){var o=e.call(this,n)||this;return o._location=t,o.computeVerticies(),o.glRenderMode=r.POINTS,o}return n(t,e),t.prototype.computeVerticies=function(){var e=new Float32Array(i.Constants.floatsPerVertex);this.addXYZAndColorToFloat32Array(e,0,this._location.x,this._location.y,this._location.z),this._verticies=new s.Float32Vector(e,e.length)},t}(o.Shape2d);t.Point=a}])});